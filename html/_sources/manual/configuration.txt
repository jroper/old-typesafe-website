Configuration
=============

Overview
--------

Cloudy Akka configuration is an add-on to the standard Akka
``akka.conf`` configuration. It has its own namespace
``akka.cloud``, so you should only have one single configuration file
with both your Akka Open Source specific options and your Cloudy Akka specific
options.

This configuration shows only the Cloudy Akka add-on options with its default
values. If you omit all of these in your ``akka.conf`` then these
options is what you get anyway.

.. code-block:: conf

   ###########################
   # Cloudy Akka Config File #
   ###########################

   # This file has all the default settings, so all these could be removed
   # with no visible effect. Modify as needed.

   # This config imports the Akka reference configuration.
   # include "akka-reference.conf"

   akka {
     version = "1.0-RC3"
     time-unit = "seconds"
     enable-jmx = on

     cloud {
       cluster {
         zookeeper-server-addresses = "localhost:2181"
         remote-server-port = 2552
         max-time-to-wait-until-connected = 5
         session-timeout = 60
         connection-timeout = 30
         use-compression = off
       }

       mailbox {

         file-based {
           directory-path = "./_mb"
           max-items = 2147483647
           max-size = 2147483647
           max-items = 2147483647
           max-age = 0
           max-journal-size = 16777216 # 16 * 1024 * 1024
           max-memory-size = 134217728 # 128 * 1024 * 1024
           max-journal-overflow = 10
           max-journal-size-absolute = 9223372036854775807
           discard-old-when-full = on
           keep-journal = on
           sync-journal = off
         }

         redis {
           hostname = "127.0.0.1"
           port = 6379
         }

         zookeeper {
           server-addresses = "localhost:2181"
           session-timeout = 60
           connection-timeout = 30
           blocking-queue = on
         }

         beanstalk {
           hostname = "127.0.0.1"
           port = 11300
           reconnect-window = 5
           message-submit-delay = 0
           message-submit-timeout = 5
           message-time-to-live = 120
         }
       }

       monitoring {
         daemons = ["LOCAL"] # Options: "LOCAL", "REMOTE", "FLUME"

         remote-daemon-hostname = "localhost"
         remote-daemon-port = 8700

         flume-rpc-hostname = "localhost"
         flume-rpc-port = 3737

         enable-sequence-diagram-generation = on

         console-webapp-dir = "./akka-cloud-console/target/scala_2.8.1/webapp/"
         console-refresh-rate = 10

         sampling-rate = 1000
         messages-per-second-sampling-rate = 5
         max-latency-history = 1000
         max-tree-depth = 100

         allowAnnotations = on
         track-actor-type = on
         track-actor-uuid = on
         track-address = on
         track-message-type = on
         track-message-as-string = on
         track-message-send-scheme = on
         track-actor-create = on
         track-actor-start = on
         track-actor-stop = on
         track-actor-trap-exit = on
         track-actor-restart = on
         track-mailbox-size = on
         track-dispatcher = on

         track-remote-server-error = on
         track-remote-server-started = on
         track-remote-server-shutdown = on
         track-remote-server-nr-of-bytes-read = on
         track-remote-server-nr-of-bytes-written = on
         track-remote-server-client-connected = on
         track-remote-server-client-disconnected = on
         track-remote-server-client-closed = on

         track-remote-client-error = on
         track-remote-client-started = on
         track-remote-client-shutdown = on
         track-remote-client-nr-of-bytes-read = on
         track-remote-client-nr-of-bytes-written = on
         track-remote-client-connected = on
         track-remote-client-disconnected = on
       }
     }
   }
